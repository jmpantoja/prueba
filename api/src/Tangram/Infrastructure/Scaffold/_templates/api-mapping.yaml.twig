{{ entity | full_name }}:
    collectionOperations:
        get:
            filters:
                - '{{ entity | table_name }}.order_filter'
{% for filter in (entity | filters | keys) %}
                - '{{ entity | table_name }}.{{filter}}'
{% endfor %}

            security: 'is_granted("{{ entity | role_read}}")'

        post:
            security: 'is_granted("{{ entity | role_create}}")'

    itemOperations:
        get:
            security: 'is_granted("{{ entity | role_read}}")'

        put:
            security: 'is_granted("{{ entity | role_update}}")'

        delete:
            security: 'is_granted("{{ entity | role_delete}}")'

    properties:
        id:
            identifier: true

    attributes:
        input: {{ input | full_name }}
        output: {{ output | full_name }}

        normalization_context:
            groups: [ {{ entity | read_group }}  ]
        denormalization_context:
            groups: [ {{ entity | write_group }} ]

