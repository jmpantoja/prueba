<doctrine-mapping xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                  xmlns="http://doctrine-project.org/schemas/orm/doctrine-mapping"
                  xsi:schemaLocation="http://doctrine-project.org/schemas/orm/doctrine-mapping
                          https://www.doctrine-project.org/schemas/orm/doctrine-mapping.xsd">

    <embeddable name="{{ valueObject | full_name }}">

        {% for attribute in valueObject.attributes %}
            {%- if attribte.composed %}
                <embedded name="{{ attribute.name }}" class="{{ attribute | full_name }}"/>
            {%- else %}
                <field name="{{ attribute.name }}" type="{{ attribute | dbal_type }}"/>
            {% endif -%}
        {% endfor %}
    </embeddable>
</doctrine-mapping>
