{% import 'partials/macros.php.twig' as _ %}
{% include 'partials/header.php.twig' %}

{{ _.uses(target) }}
use Tangram\Domain\Assertion\Traits\Assert;

final class {{ target | short_name }} {

    use Assert;

    {{ _.properties(target) }}

    public function __construct({{ _.argument_list(target, true) }})
    {
        {% if target.single %}
            $this->assert({{ _.argument_list(target) }});
        {% else %}
            $this->assert([
            {% for attribute in target.attributes %}
                {{ attribute | key_name | add_quotes }} => {{ attribute | var_name }},
            {% endfor %}
            ]);

        {% endif %}

        {{ _.init_properties(target) }}
    }

    {{ _.getters(target) }}

    {{ _.to_scalar(target) }}


}


